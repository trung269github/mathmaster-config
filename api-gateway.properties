server.port=8080
eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/
spring.cloud.gateway.discovery.locator.enabled=true

# --- CORRECTED Route Definitions ---
# Each path pattern needs its own route definition.

# Route for Authentication
spring.cloud.gateway.routes[0].id=auth-service-auth
spring.cloud.gateway.routes[0].uri=lb://AUTH-SERVICE
spring.cloud.gateway.routes[0].predicates=Path=/api/auth/**

# Route for Profile Management
spring.cloud.gateway.routes[1].id=auth-service-profile
spring.cloud.gateway.routes[1].uri=lb://AUTH-SERVICE
spring.cloud.gateway.routes[1].predicates=Path=/api/teacher/profile/**



# Route for Course Service (Public)
spring.cloud.gateway.routes[2].id=course-service-public
spring.cloud.gateway.routes[2].uri=lb://COURSE-SERVICE
spring.cloud.gateway.routes[2].predicates=Path=/api/courses/**

# Route for Course Service (Admin)
spring.cloud.gateway.routes[3].id=course-service-admin
spring.cloud.gateway.routes[3].uri=lb://COURSE-SERVICE
spring.cloud.gateway.routes[3].predicates=Path=/api/admin/courses/**

# Route for Quiz Service
spring.cloud.gateway.routes[4].id=quiz-service
spring.cloud.gateway.routes[4].uri=lb://QUIZ-SERVICE
spring.cloud.gateway.routes[4].predicates=Path=/api/quizzes/**

logging.level.org.springframework.cloud.gateway=TRACE
